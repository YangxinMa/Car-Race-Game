<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game:Home</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@2.6.14/dist/vue.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="css/game.css" rel="stylesheet">

</head>

<body>
    <div id="gameApp">
        <h4>Welcome, <strong>{{user}}</strong></h4>
        <button type="button" onclick="{location.href='index.html'}">Log out</button>

        <button id="newGame" type="button" v-on:click="newGame()">New Game</button>

        <h4 v-if="game != null">
            Score: {{game.currentScore}}</h4>

        <button v-if="game != null" type="button" v-on:click="changeSpeed(1)">
            Speed: 1x</button>
        <button v-if="game != null" type="button" v-on:click="changeSpeed(2)">
            Speed: 2x</button>
        <button v-if="game != null" type="button" v-on:click="changeSpeed(4)">
            Speed: 4x</button>

        <div v-if="board != null">
            <table>
                <tr v-for="(row, rowIdx) in board.hasWalls">
                    <td v-for="(isBound, colIdx) in row">
                        <div style="position: relative; left:0; top:0;">
                            <img v-if="isBound" src="img/game/wall.png" />
                            <img v-else src="img/game/road.png"/>

                            <img v-if="locationMatches(board.pointLocation, rowIdx, colIdx)"
                                 src="img/game/gold.png" class="stack"/>
                            <div v-if="locationMatches(board.playerLocation, rowIdx, colIdx)">
                                <img v-if="game.isGameLost" src="img/game/cancel.png" class="stack"/>
                                <img v-else src="img/game/player.png" class="stack"/>
                            </div>
                            <div v-for="aCar in board.carLocations">
                                <img v-if="locationMatches(aCar, rowIdx, colIdx)"
                                     src="img/game/roadblock.png" class="stack"/>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
            <h1 v-if="game.isGameLost">YOU LOST! Try again?</h1>
            <button v-if="game != null" type="button" v-on:click="endGame()">
                Upload your record
            </button>
        </div>


        <div>
            <table>
                <tr>
                    <th v-for='(item, i) in rankTitle' :key="i">{{item}}</th>
                </tr>
                <tr v-for='(eachUser, i) in rank' :key="i">
                    <td v-for='(item, j) in rankTitle' :key="j">{{eachUser[item]}}</td>
                </tr>
            </table>
        </div>

    </div>

    <script src="js/game.js"></script>

<!--    <main class="container-fluid main-region">-->
<!--        <div class="my-3 p-2 bg-body rounded shadow-sm">-->
<!--            <h5 class="mb-3">Welcome to the game</h5>-->

<!--            <table class="table-responsive">-->
<!--                <table class="table">-->
<!--                    <thead>-->
<!--                        <tr>-->
<!--                            <th scope="col">Position</th>-->
<!--                            <th scope="col">UserID</th>-->
<!--                            <th scope="col">Duration</th>-->
<!--                            <th scope="col">Records</th>-->
<!--                        </tr>-->
<!--                    </thead>-->

<!--                    <tbody>-->
<!--                    <tr class="accordion-toggle collapsed" id="accordion1" data-toggle="collapse" data-parent="#accordion1" href="#collapseOne">-->
<!--                        <td class="expand-button"></td>-->
<!--                        <td>name</td>-->
<!--                        <td>2m:10s</td>-->
<!--                        <td>99 Points</td>-->

<!--                    </tr>-->
<!--                    <tr class="hide-table-padding">-->
<!--                        <td></td>-->
<!--                        <td colspan="3">-->
<!--                            <div id="collapseOne" class="collapse in p-3">-->
<!--                                <div class="row">-->
<!--                                    <div class="col-2">label</div>-->
<!--                                    <div class="col-6">value 1</div>-->
<!--                                </div>-->
<!--                                <div class="row">-->
<!--                                    <div class="col-2">label</div>-->
<!--                                    <div class="col-6">value 2</div>-->
<!--                                </div>-->
<!--                                <div class="row">-->
<!--                                    <div class="col-2">label</div>-->
<!--                                    <div class="col-6">value 3</div>-->
<!--                                </div>-->
<!--                                <div class="row">-->
<!--                                    <div class="col-2">label</div>-->
<!--                                    <div class="col-6">value 4</div>-->
<!--                                </div>-->
<!--                            </div></td>-->
<!--                    </tr>-->

<!--                    </tbody>-->
<!--                </table>-->
<!--            </table>-->

<!--&lt;!&ndash;            <div class="table-responsive">&ndash;&gt;-->
<!--&lt;!&ndash;                <table class="table">&ndash;&gt;-->
<!--&lt;!&ndash;                    <thead>&ndash;&gt;-->
<!--&lt;!&ndash;                        <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                            <th scope="col" class="text-center">Position</th>&ndash;&gt;-->
<!--&lt;!&ndash;                            <th scope="col" class="text-center">Duration</th>&ndash;&gt;-->
<!--&lt;!&ndash;                            <th scope="col" class="text-center">UserID</th>&ndash;&gt;-->
<!--&lt;!&ndash;                            <th scope="col" class="text-center">Records</th>&ndash;&gt;-->
<!--&lt;!&ndash;                        </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                    </thead>&ndash;&gt;-->

<!--&lt;!&ndash;                    <tbody>&ndash;&gt;-->
<!--&lt;!&ndash;                    <tr data-toggle="collapse" data-target="#accordion" class="clickable">&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>Some Stuff</td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>Some more stuff</td>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td>And some more</td>&ndash;&gt;-->
<!--&lt;!&ndash;                    </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                    <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                        <td colspan="3">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div id="accordion" class="collapse">Hidden by default</div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                    </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                    </tbody>&ndash;&gt;-->

<!--&lt;!&ndash;                    <tbody>&ndash;&gt;-->
<!--&lt;!&ndash;                        {leaderboard.map((item, index) => (&ndash;&gt;-->
<!--&lt;!&ndash;                        <tr key={item._id} class={`${index == 0 ? "table-warning": ""}`}>&ndash;&gt;-->
<!--&lt;!&ndash;                            <th scope="row" class="text-center">{index + 1}</th>&ndash;&gt;-->
<!--&lt;!&ndash;                            <td class="text-center">&ndash;&gt;-->
<!--&lt;!&ndash;                                {index === 0 ? <i class="text-warning bi-trophy-fill"/> : null}&ndash;&gt;-->
<!--&lt;!&ndash;                                {index === 1 ? <i class="text-secondary bi-trophy-fill"/> : null}&ndash;&gt;-->
<!--&lt;!&ndash;                                {index === 2 ? <i class="text-danger bi-trophy-fill"/> : null}&ndash;&gt;-->
<!--&lt;!&ndash;                            </td>&ndash;&gt;-->
<!--&lt;!&ndash;                            <td class="text-center">{item.name}</td>&ndash;&gt;-->
<!--&lt;!&ndash;                            <td class="d-none d-sm-table-cell text-center">{item.nCaseStudies}</td>&ndash;&gt;-->
<!--&lt;!&ndash;                            <td class="fw-bold text-center">{item.points}</td>&ndash;&gt;-->
<!--&lt;!&ndash;                        </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                        ))}&ndash;&gt;-->
<!--&lt;!&ndash;                    </tbody>&ndash;&gt;-->
<!--&lt;!&ndash;                </table>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="container mt-5">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="bg-image" style="background-image: url('img/gameEntrance.jpg');height: 100vh;"></div>&ndash;&gt;-->
<!--&lt;!&ndash;                &lt;!&ndash;            <img class="mb-4" src="img/gameEntrance.jpg" class="img-responsive">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;                <div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <button class="w-100 btn btn-lg btn-primary mt-3">Start Game</button>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->

<!--        </div>-->

<!--    </main>-->

<!--    <div class="start">-->
<!--        <div class="d-flex justify-content-center p-2">-->
<!--            <button class="btn ">Start Game</button>-->
<!--        </div>-->
<!--    </div>-->


</body>
</html>